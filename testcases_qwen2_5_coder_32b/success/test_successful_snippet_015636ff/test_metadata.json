{
    "cobol_file": {
        "file_name": "successful_snippet_015636ff.cob",
        "content": "000100 IDENTIFICATION DIVISION.                                                 \n000200 PROGRAM-ID. SALESSUM.                                                      \n000300* THE PROGRAM READS IN THE SALESIDAMT.DAT FILE AND NEEDS TO \n000400* WRITE OUT TWO SUMMARY-FILES; SALES-FILE-OUT AND STATE-FILE-OUT.\n000500* EACH SUMMARY FILE HAS ONE RECORD FOR EACH KEY (SALESID OR STATE)\n000600* WITH THE TOTAL AMOUNT FOR THAT KEY ON THE RECORD.\n000700* YOU MAY WRITE OUT A TRAILER RECORD FOR EACH FILE FOR EXTRA \n000800* CREDIT.  THE PROGRAM IS MOSTLY CODED AND YOU WILL NEED TO \n000900* ADD CODE TO COMPLETE THE ASSIGMENT. THIS IS INDICATED, BUT YOU\n001000* MAY HAVE TO ADD ADDITIONAL CODE TO GET IT TO WORK AND COMPILE.                                     \n001100 ENVIRONMENT DIVISION.                                                    \n001200 CONFIGURATION SECTION.                                                   \n001300 INPUT-OUTPUT SECTION.                                                    \n001400 FILE-CONTROL.  \n001500     SELECT SALES-FILE-IN                                                 \n001600       ASSIGN TO \"SALESIDAMT.DAT\"      \n001700       ORGANIZATION IS LINE SEQUENTIAL                                    \n001800       FILE STATUS IS SALES-FILE-STATUS.  \n001900     SELECT SALES-FILE-OUT                                                 \n002000       ASSIGN TO \"SALESIDOUT.DAT\"      \n002100       ORGANIZATION IS LINE SEQUENTIAL. \n002200     SELECT STATE-FILE-OUT                                                 \n002300       ASSIGN TO \"STATESOUT.DAT\"      \n002400       ORGANIZATION IS LINE SEQUENTIAL.                                                                         \n002500                                                   \n002600 DATA DIVISION.                                                           \n002700 FILE SECTION.                                                            \n002800 FD SALES-FILE-IN                                                        \n002900     RECORDING MODE IS F                                                  \n003000     DATA RECORD ISSALES-RECORD-IN.                                       \n003100 01 SALES-RECORD-IN.\n003200    05 SALES-STATE-IN            PIC X(02).\n003300    05 SALES-ID-IN               PIC X(03).\n003400    05 SALES-AMOUNT-IN           PIC 9(04)V99.\n003500          \n003600 FD  SALES-FILE-OUT                                                        \n003700     RECORDING MODE IS F                                                  \n003800     DATA RECORD IS SALES-RECORD-OUT.                                       \n003900 01 SALES-RECORD-OUT.\n004000    05 SALES-ID-OUT              PIC X(03).\n004100    05 SALES-ID-AMT-OUT          PIC 9(06)V99.\n004200\n004300 FD  STATE-FILE-OUT                                                        \n004400     RECORDING MODE IS F                                                  \n004500     DATA RECORD IS STATE-RECORD-OUT.                                       \n004600 01 STATE-RECORD-OUT.\n004700    05 STATE-ID-OUT              PIC X(02).\n004800    05 STATE-ID-AMT-OUT          PIC 9(06)V99.       \n004900       \n005000 WORKING-STORAGE SECTION. \n005100 01 TABLE-SALES-ID-ENTRY OCCURS 99 TIMES.\n005200    05 TABLE-SALES-ID            PIC X(03).\n005300    05 TABLE-SALES-ID-AMOUNT     PIC 9(06)V99.\n005400 \n005500    \n005600* YOU MUST CREATE A TABLE HERE TO RECORD THE STATE ENTRIES\n005700* AND THE AMOUNT FOR EACH STATE. IT WILL LOOK LIKE THE TABLE\n005800* ABOVE, BUT BE FOR THE STATE. YOU WILL ALSO NEED TO CREATE\n005900* A SUBSCRIPT FOR THE STATE TABLE, LIKE WS-STATE-SUB.\n006000  \n006100 01 TABLE-STATE-ENTRY OCCURS 50 TIMES.\n006200    05 TABLE-STATE            PIC X(03).\n006300    05 TABLE-STATE-AMOUNT     PIC 9(06)V99.\n006400        \n006500 01 WS-COUNTERS.\n006600    05 WS-SALES-TOTAL           PIC 9(06)V99 VALUE 0.\n006700    05 WS-STATE-TOTAL           PIC 9(06)V99 VALUE 0.\n006800    05 WS-ID-SUB                PIC 9(02).\n006900    05 WS-STATE-SUB             PIC 9(02).\n007000\n007100 01 WS-DATA-SWITCH              pic 9     VALUE 1.\n007200    88 EOF                                VALUE 0.\n007300 01 SALES-FILE-STATUS           PIC X(02).\n007400    88 NO-DATA                            VALUE '02' THRU '99'.\n007500        \n007600 PROCEDURE DIVISION.                                                      \n007700                                                                          \n007800 0000-DRIVER.                                                             \n007900     DISPLAY 'SALESSUM PROGRAM START'. \n008000     OPEN INPUT  SALES-FILE-IN.\n008100     OPEN OUTPUT SALES-FILE-OUT\n008200                 STATE-FILE-OUT. \n008300     PERFORM 1000-INITIALIZE-TABLE.\n008400     READ SALES-FILE-IN.\n008500     PERFORM 2000-POPULATE-TABLES \n008600       UNTIL NO-DATA\n008700          or WS-DATA-SWITCH = 0.\n008800     PERFORM 3000-WRITE-SUMMARY-FILES.\n008900     PERFORM 4000-WRITE-TRAILERS.\n009000     CLOSE SALES-FILE-IN\n009100           SALES-FILE-OUT\n009200           STATE-FILE-OUT.\n009300     GOBACK.\n009400     \n009500 1000-INITIALIZE-TABLE.\n009600* INITIALIZE THE SALES ID TABLE: \n009700     PERFORM VARYING WS-ID-SUB FROM 1 BY 1\n009800       UNTIL WS-ID-SUB > 98\n009900          MOVE SPACES TO TABLE-SALES-ID (WS-ID-SUB)\n010000          MOVE ZEROES TO TABLE-SALES-ID-AMOUNT (WS-ID-SUB)\n010100     END-PERFORM.\n010200     \n010300* INITIALIZE THE STATE TABLE: \n010400     PERFORM VARYING WS-STATE-SUB FROM 1 by 1\n010500       UNTIL WS-STATE-SUB > 49\n010600          MOVE spaces to TABLE-STATE (WS-STATE-SUB)\n010700          MOVE zeroes to TABLE-STATE-AMOUNT (WS-STATE-SUB) \n010800     END-PERFORM.       \n010900     \n011000 2000-POPULATE-TABLES.\n011100\n011200* SEARCH SALES TABLE FOR THE SALES ID OR AN ENTRY WITH SPACES:     \n011300     PERFORM VARYING WS-ID-SUB FROM 1 BY 1\n011400       UNTIL WS-ID-SUB > 98\n011500          OR TABLE-SALES-ID (WS-ID-SUB) = SPACES\n011600          OR TABLE-SALES-ID (WS-ID-SUB) = SALES-ID-IN\n011700     END-PERFORM.\n011800     \n011900* CHECK TO SEE IF THE SALE ID WAS FOUND:      \n012000     IF TABLE-SALES-ID (WS-ID-SUB) = SALES-ID-IN\n012100       ADD SALES-AMOUNT-IN TO TABLE-SALES-ID-AMOUNT (WS-ID-SUB)\n012200     ELSE \n012300       ADD SALES-AMOUNT-IN TO TABLE-SALES-ID-AMOUNT (WS-ID-SUB)\n012400       MOVE SALES-ID-IN TO TABLE-SALES-ID (WS-ID-SUB).\n012500       \n012600* SEARCH STATE TABLE FOR THE STATE ID OR AN ENTRY WITH SPACES:     \n012700     PERFORM VARYING WS-STATE-SUB FROM 1 BY 1 \n012800       UNTIL WS-STATE-SUB > 49\n012900          OR TABLE-STATE (WS-STATE-SUB) = SPACES\n013000          OR TABLE-STATE (WS-STATE-SUB) = SALES-STATE-IN\n013100     END-PERFORM.\n013200     \n013300* CHECK TO SEE IF THE STATE WAS FOUND:      \n013400     IF TABLE-STATE (WS-STATE-SUB) = SALES-STATE-IN\n013500       ADD SALES-AMOUNT-IN TO TABLE-STATE-AMOUNT (WS-STATE-SUB)\n013600     ELSE \n013700       add SALES-AMOUNT-IN to TABLE-STATE-AMOUNT (WS-STATE-SUB)\n013800       move SALES-STATE-IN to TABLE-STATE (WS-STATE-SUB).     \n013900       \n014000     READ SALES-FILE-IN\n014100       AT END MOVE 0 TO WS-DATA-SWITCH.\n014200       \n014300 3000-WRITE-SUMMARY-FILES.\n014400\n014500* READ THROUGH EACH SALES ID TABLE OCCURENCE AND MOVE TO THE \n014600* SALES SUMMARY OUTPUT RECORD AND WRITE THE RECORD.\n014700     PERFORM VARYING WS-ID-SUB FROM 1 BY 1\n014800       UNTIL WS-ID-SUB > 98\n014900          OR TABLE-SALES-ID(WS-ID-SUB) = SPACES\n015000       MOVE TABLE-SALES-ID(WS-ID-SUB) TO SALES-ID-OUT\n015100       MOVE TABLE-SALES-ID-AMOUNT (WS-ID-SUB) TO SALES-ID-AMT-OUT\n015200       WRITE SALES-RECORD-OUT\n015300       ADD SALES-ID-AMT-OUT  TO WS-SALES-TOTAL\n015400     END-PERFORM.  \n015500\n015600* READ THROUGH EACH STATE ID TABLE OCCURENCE AND MOVE TO THE \n015700* STATE SUMMARY OUTPUT RECORD AND WRITE THE RECORD. \n015800     PERFORM VARYING WS-STATE-SUB from 1 by 1\n015900       UNTIL WS-STATE-SUB > 49\n016000          OR TABLE-STATE (WS-STATE-SUB) = SPACES\n016100       MOVE TABLE-STATE (WS-STATE-SUB) TO STATE-ID-OUT\n016200       MOVE TABLE-STATE-AMOUNT (WS-STATE-SUB) TO STATE-ID-AMT-OUT\n016300       WRITE STATE-RECORD-OUT\n016400       ADD STATE-ID-AMT-OUT TO WS-STATE-TOTAL\n016500     END-PERFORM.               \n016600     \n016700 4000-WRITE-TRAILERS.\n016800* IF YOU WANT EXTRA CREDIT FOR CREATING A TRAILER RECORD, REMOVE \n016900* EXIT STATEMENT AND INSERT THE EXTRA CREDIT CODE:  \n017000     EXIT.\n"
    },
    "input_files": [
        {
            "file_name": "SALESIDAMT.DAT",
            "content": "CA0010015000\nNY0020025000\nCA0030035000\nNY0040045000\nCA0050055000\nNY0060065000\nCA0070075000\nNY0080085000\nCA0090095000\nNY0100105000"
        },
        {
            "file_name": "STATESOUT.DAT",
            "content": "CA0010010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
        }
    ],
    "output_files": [
        "SALESIDOUT.DAT"
    ],
    "input_output_files": [],
    "sysin_file": null,
    "code_file": "successful_snippet_015636ff.cob",
    "compiled_file": "successful_snippet_015636ff",
    "expected_output": "SALESSUM PROGRAM START\n",
    "expected_output_files": [
        {
            "file_name": "SALESIDOUT.DAT",
            "content": ""
        }
    ],
    "expected_input_output_files": []
}