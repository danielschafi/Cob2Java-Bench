{
  "cobol_file": {
    "file_name": "successful_snippet_d9ae1ce1.cob",
    "content": "      ******************************************************************\n      * author: Erik Eriksen\n      * date: 2022-04-13\n      * purpose: A simple paint program to demo the mouse functionality.\n      * tectonics: cobc\n      ******************************************************************\n       identification division.\n       program-id. mouse-example.\n\n       environment division.\n\n       configuration section.\n\n       special-names.\n           cursor is ws-cursor-position\n           crt status is ws-crt-status.\n\n       data division.\n       file section.\n\n       working-storage section.\n\n       copy screenio.\n\n       01  ws-cursor-position.\n           05  ws-cursor-line                  pic 99.\n           05  ws-cursor-col                   pic 99.\n\n       01  ws-kb-input                         pic x.\n\n       01  ws-crt-status.\n           05  ws-crt-key-1                    pic xx.\n           05  ws-crt-key-2                    pic xx.\n\n       01  ws-mouse-flags                      pic 9(4).\n\n       01  ws-mouse-clicked-sw                 pic a value 'N'.\n           88  ws-mouse-clicked                value 'Y'.\n           88  ws-mouse-not-clicked            value 'N'.\n\n       01  ws-exit-sw                          pic a value 'N'.\n           88  ws-exit                         value 'Y'.\n           88  ws-not-exit                     value 'N'.\n\n       01  ws-draw-color                       pic 9.\n\n       procedure division.\n           set environment \"COB_SCREEN_EXCEPTIONS\" to 'Y'.\n           set environment \"COB_SCREEN_ESC\" to 'Y'.\n           set environment \"COB_EXIT_WAIT\" to 'N'.\n           set environment \"COB_TIMEOUT_SCALE\" to '3'.\n\n           compute ws-mouse-flags = COB-AUTO-MOUSE-HANDLING\n               + COB-ALLOW-LEFT-DOWN\n               + COB-ALLOW-LEFT-UP\n               + COB-ALLOW-MOUSE-MOVE\n           end-compute.\n\n           set environment \"COB_MOUSE_FLAGS\" to ws-mouse-flags.\n\n       main-procedure.\n\n           move 1 to ws-draw-color\n\n           display \"Current Draw color:\" at 1901\n           display\n               \"Esc to exit. Number keys to change cursor draw color\" &\n               \". Left mouse down to draw current color.\"\n               foreground-color cob-color-white highlight\n               background-color cob-color-blue\n               at 2001\n           end-display\n\n\n           perform until ws-exit\n\n               display\n                   \" \"\n                   background-color ws-draw-color\n                   at 1921\n               end-display\n\n               accept ws-kb-input\n                   with auto-skip no-echo\n                   timeout after 50\n                   upper\n               end-accept\n\n               if ws-kb-input not = space then\n\n                   if ws-kb-input = 'Q' then\n                       stop run\n                   end-if\n\n                   if ws-kb-input is numeric then\n                       move ws-kb-input to ws-draw-color\n                       if ws-draw-color > 7 then\n                           move 7 to ws-draw-color\n                       end-if\n                   end-if\n               end-if\n\n               evaluate ws-crt-status\n\n                   when COB-SCR-ESC\n                       set ws-exit to true\n\n                   when COB-SCR-LEFT-PRESSED\n                       set ws-mouse-clicked to true\n\n                   when COB-SCR-LEFT-RELEASED\n                       set ws-mouse-not-clicked to true\n\n               end-evaluate\n\n               if ws-cursor-position not = zeros\n               and ws-cursor-line < 19\n               and ws-cursor-col <= 80\n               and ws-mouse-clicked\n               then\n                   display\n                       \" \"\n                       background-color ws-draw-color\n                       at ws-cursor-position\n                   end-display\n               end-if\n\n           end-perform\n\n           stop run.\n\n       end program mouse-example.\n"
  },
  "input_files": [],
  "output_files": [],
  "input_output_files": [],
  "sysin_file": {
    "file_name": "sysin.txt",
    "content": "A  \nB  \nC  \nD  \nE  \nF  \nG  \nH  \n."
  }
}