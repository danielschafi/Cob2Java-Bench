{
    "cobol_file": {
        "file_name": "successful_snippet_a9d8a275.cob",
        "content": "      ******************************************************************\n      * author: Erik Eriksen\n      * date: 2021-09-19\n      * purpose: Testing sort and merge syntax on test data.\n      * tectonics: cobc\n      ******************************************************************\n       identification division.\n       program-id. merge-sort-example.\n\n       environment division.\n       input-output section.\n\n       file-control.\n\n           select fd-test-file-1 assign to \"test-file-1.txt\"\n           organization is line sequential\n           file status is ws-fs-status-1.\n\n           select fd-test-file-2 assign to \"test-file-2.txt\"\n           organization is line sequential\n           file status is ws-fs-status-2.\n\n           select fd-sorting-file assign to \"work-temp.txt\".\n\n           select fd-merged-file assign to \"merge-output.txt\"\n           organization is line sequential\n           file status is ws-fs-status-merge.\n\n           select fd-sorted-contract-id\n           assign to \"sorted-contract-id.txt\"\n           organization is line sequential\n           file status is ws-fs-status-sorted.\n\n\n       data division.\n\n       file section.\n\n       sd  fd-sorting-file.\n       01  f-customer-record-sort.\n           05  f-customer-id                       pic 9(5).\n           05  f-customer-last-name                pic x(50).\n           05  f-customer-first-name               pic x(50).\n           05  f-customer-contract-id              pic 9(5).\n           05  f-customer-comment                  pic x(25).\n\n       fd  fd-test-file-1 recording mode F.\n       01  f-customer-record-east.\n           05  f-customer-id                       pic 9(5).\n           05  f-customer-last-name                pic x(50).\n           05  f-customer-first-name               pic x(50).\n           05  f-customer-contract-id              pic 9(5).\n           05  f-customer-comment                  pic x(25).\n\n       fd  fd-test-file-2 recording mode F.\n       01  f-customer-record-west.\n           05  f-customer-id                       pic 9(5).\n           05  f-customer-last-name                pic x(50).\n           05  f-customer-first-name               pic x(50).\n           05  f-customer-contract-id              pic 9(5).\n           05  f-customer-comment                  pic x(25).\n\n       fd  fd-merged-file recording mode F.\n       01  f-customer-record-merged.\n           05  f-customer-id                       pic 9(5).\n           05  f-customer-last-name                pic x(50).\n           05  f-customer-first-name               pic x(50).\n           05  f-customer-contract-id              pic 9(5).\n           05  f-customer-comment                  pic x(25).\n\n       fd  fd-sorted-contract-id recording mode F.\n       01  f-customer-record-sorted-contract-id.\n           05  f-customer-id                       pic 9(5).\n           05  f-customer-last-name                pic x(50).\n           05  f-customer-first-name               pic x(50).\n           05  f-customer-contract-id              pic 9(5).\n           05  f-customer-comment                  pic x(25).\n\n       working-storage section.\n\n       01  ws-fs-status-1                          pic xx.\n       01  ws-fs-status-2                          pic xx.\n       01  ws-fs-status-merge                      pic xx.\n       01  ws-fs-status-sorted                     pic xx.\n\n       01  ws-eof-sw                               pic x value 'N'.\n           88  ws-eof                              value 'Y'.\n           88  ws-not-eof                          value 'N'.\n\n       procedure division.\n       main-procedure.\n           perform create-test-data\n\n           perform merge-and-display-files\n\n           perform sort-and-display-file\n\n           display \"Done.\"\n\n           stop run.\n\n\n       merge-and-display-files.\n\n           display \"Merging and sorting files...\"\n\n           merge fd-sorting-file\n               on ascending key f-customer-id\n               of f-customer-record-merged\n               using fd-test-file-1 fd-test-file-2 giving fd-merged-file\n\n           open input fd-merged-file\n\n               if ws-fs-status-merge not = \"00\" then\n                   display \"Error opening merged output file: \"\n                       ws-fs-status-merge\n                   end-display\n                   stop run\n               end-if\n\n               set ws-not-eof to true\n\n               perform until ws-eof\n                   read fd-merged-file\n                       at end\n                           set ws-eof to true\n                       not at end\n                           display f-customer-record-merged\n                   end-read\n               end-perform\n\n           close fd-merged-file\n\n           exit paragraph.\n\n\n\n       sort-and-display-file.\n\n           display \"Sorting merged file on descending contract id....\"\n\n           sort fd-sorting-file\n               on descending key f-customer-contract-id\n               of f-customer-record-sorted-contract-id\n               using fd-merged-file giving fd-sorted-contract-id\n\n           open input fd-sorted-contract-id\n\n               if ws-fs-status-sorted not = \"00\" then\n                   display \"Error opening sorted output file: \"\n                       ws-fs-status-sorted\n                   end-display\n                   stop run\n               end-if\n\n               set ws-not-eof to true\n\n               perform until ws-eof\n                   read fd-sorted-contract-id\n                       at end\n                           set ws-eof to true\n                       not at end\n                           display f-customer-record-sorted-contract-id\n                   end-read\n               end-perform\n\n           close fd-sorted-contract-id\n\n           exit paragraph.\n\n\n\n       create-test-data.\n\n           display \"Creating test data files...\"\n\n           open output fd-test-file-1\n               if ws-fs-status-1 not = \"00\" then\n                   display \"Failed to open file for output: \"\n                       ws-fs-status-1\n                   end-display\n                   stop run\n               end-if\n\n               move 1 to f-customer-id of f-customer-record-east\n               move \"last-1\" to f-customer-last-name\n                   of f-customer-record-east\n               move \"first-1\" to f-customer-first-name\n                   of f-customer-record-east\n               move 5423 to f-customer-contract-id\n                   of f-customer-record-east\n               move \"comment-1\" to f-customer-comment\n                   of f-customer-record-east\n\n               write f-customer-record-east\n\n\n               move 5 to f-customer-id of f-customer-record-east\n               move \"last-5\" to f-customer-last-name\n                   of f-customer-record-east\n               move \"first-5\" to f-customer-first-name\n                   of f-customer-record-east\n               move 12323 to f-customer-contract-id\n                   of f-customer-record-east\n               move \"comment-5\" to f-customer-comment\n                   of f-customer-record-east\n\n               write f-customer-record-east\n\n\n               move 10 to f-customer-id of f-customer-record-east\n               move \"last-10\" to f-customer-last-name\n                   of f-customer-record-east\n               move \"first-10\" to f-customer-first-name\n                   of f-customer-record-east\n               move 653 to f-customer-contract-id\n                   of f-customer-record-east\n               move \"comment-10\" to f-customer-comment\n                   of f-customer-record-east\n\n               write f-customer-record-east\n\n\n               move 50 to f-customer-id of f-customer-record-east\n               move \"last-50\" to f-customer-last-name\n                   of f-customer-record-east\n               move \"first-50\" to f-customer-first-name\n                   of f-customer-record-east\n               move 5050 to f-customer-contract-id\n                   of f-customer-record-east\n               move \"comment-50\" to f-customer-comment\n                   of f-customer-record-east\n\n               write f-customer-record-east\n\n               move 25 to f-customer-id of f-customer-record-east\n               move \"last-25\" to f-customer-last-name\n                   of f-customer-record-east\n               move \"first-25\" to f-customer-first-name\n                   of f-customer-record-east\n               move 7725 to f-customer-contract-id\n                   of f-customer-record-east\n               move \"comment-25\" to f-customer-comment\n                   of f-customer-record-east\n\n               write f-customer-record-east\n\n\n               move 75 to f-customer-id of f-customer-record-east\n               move \"last-75\" to f-customer-last-name\n                   of f-customer-record-east\n               move \"first-75\" to f-customer-first-name\n                   of f-customer-record-east\n               move 1175 to f-customer-contract-id\n                   of f-customer-record-east\n               move \"comment-75\" to f-customer-comment\n                   of f-customer-record-east\n\n               write f-customer-record-east\n           close fd-test-file-1\n\n\n\n           open output fd-test-file-2\n               if ws-fs-status-2 not = \"00\" then\n                   display \"Failed to open file for output: \"\n                       ws-fs-status-2\n                   end-display\n                   stop run\n               end-if\n\n               move 999 to f-customer-id of f-customer-record-west\n               move \"last-999\" to f-customer-last-name\n                   of f-customer-record-west\n               move \"first-999\" to f-customer-first-name\n                   of f-customer-record-west\n               move 1610 to f-customer-contract-id\n                   of f-customer-record-west\n               move \"comment-99\" to f-customer-comment\n                   of f-customer-record-west\n\n               write f-customer-record-west\n\n\n               move 3 to f-customer-id of f-customer-record-west\n               move \"last-03\" to f-customer-last-name\n                   of f-customer-record-west\n               move \"first-03\" to f-customer-first-name\n                   of f-customer-record-west\n               move 3331 to f-customer-contract-id\n                   of f-customer-record-west\n               move \"comment-03\" to f-customer-comment\n                   of f-customer-record-west\n\n               write f-customer-record-west\n\n               move 30 to f-customer-id of f-customer-record-west\n               move \"last-30\" to f-customer-last-name\n                   of f-customer-record-west\n               move \"first-30\" to f-customer-first-name\n                   of f-customer-record-west\n               move 8765 to f-customer-contract-id\n                   of f-customer-record-west\n               move \"comment-30\" to f-customer-comment\n                   of f-customer-record-west\n\n               write f-customer-record-west\n\n\n               move 85 to f-customer-id of f-customer-record-west\n               move \"last-85\" to f-customer-last-name\n                   of f-customer-record-west\n               move \"first-85\" to f-customer-first-name\n                   of f-customer-record-west\n               move 4567 to f-customer-contract-id\n                   of f-customer-record-west\n               move \"comment-85\" to f-customer-comment\n                   of f-customer-record-west\n\n               write f-customer-record-west\n\n\n               move 24 to f-customer-id of f-customer-record-west\n               move \"last-24\" to f-customer-last-name\n                   of f-customer-record-west\n               move \"first-24\" to f-customer-first-name\n                   of f-customer-record-west\n               move 247 to f-customer-contract-id\n                   of f-customer-record-west\n               move \"comment-24\" to f-customer-comment\n                   of f-customer-record-west\n\n               write f-customer-record-west\n\n           close fd-test-file-2\n\n\n           exit paragraph.\n\n       end program merge-sort-example.\n"
    },
    "input_files": [
        {
            "file_name": "work-temp.txt",
            "content": "00123Anderson                                          Robert                                            0456712345 Account in good standing\n00456Thompson                                          Margaret                                          0789023456 Premium customer       \n00789Martinez                                           Carlos                                            0234556789 New contract signed    \n01234Chen                                              Jennifer                                          0567801234 Renewal pending        \n01567O'Brien                                           Michael                                           0891201567 Standard service plan  \n02345Williams                                          Sarah                                             0123402345 VIP customer status    \n03456Johnson                                           David                                             0456703456 Annual review due      \n04567Rodriguez                                         Maria                                             0678904567 Contract extension     \n05678Peterson                                          James                                             0890105678 Payment plan active    \n06789Sullivan                                          Elizabeth                                         0012306789 Multi-year agreement"
        },
        {
            "file_name": "merge-output.txt",
            "content": "00001Anderson                                          Margaret                                          0542310% discount applied       \n00003Chen                                              Robert                                            03331Standard contract        \n00005Martinez                                          Jennifer                                          12323Premium service          \n00010Thompson                                          William                                           00653Basic plan                \n00024Rodriguez                                         Patricia                                          00247New customer              \n00025Williams                                          Elizabeth                                         07725Annual renewal            \n00030Jackson                                           Christopher                                       08765Corporate account        \n00050Davis                                             Sarah                                             05050Multi-year agreement     \n00075Brown                                             Michael                                           01175Promotional rate         \n00085Johnson                                           Jessica                                           04567Standard terms"
        },
        {
            "file_name": "sorted-contract-id.txt",
            "content": "00001Anderson                                          Robert                                            1234567890                   Annual renewal due      \n00002Chen                                              Michelle                                          9876543210                   Premium customer        \n00003Rodriguez                                         Carlos                                            5555512345                   New contract signed     \n00004Thompson                                          Jennifer                                          8888899999                   Contract under review   \n00005Williams                                          David                                             7777766666                   Standard service plan   \n00006Martinez                                          Sarah                                             4444433333                   VIP account status      \n00007Johnson                                           Michael                                           3333322222                   Pending documentation   \n00008Brown                                             Elizabeth                                         6666655555                   Contract extension      \n00009Davis                                             Christopher                                       2222211111                   Multi-year agreement    \n00010Garcia                                            Amanda                                            1111100000                   Trial period active"
        }
    ],
    "output_files": [
        "test-file-1.txt",
        "test-file-2.txt"
    ],
    "input_output_files": [],
    "sysin_file": null,
    "code_file": "successful_snippet_a9d8a275.cob",
    "compiled_file": "successful_snippet_a9d8a275",
    "expected_output": "Creating test data files...\nMerging and sorting files...\n00001last-1                                            first-1                                           05423comment-1                \n00003last-03                                           first-03                                          03331comment-03               \n00005last-5                                            first-5                                           12323comment-5                \n00010last-10                                           first-10                                          00653comment-10               \n00024last-24                                           first-24                                          00247comment-24               \n00025last-25                                           first-25                                          07725comment-25               \n00030last-30                                           first-30                                          08765comment-30               \n00050last-50                                           first-50                                          05050comment-50               \n00075last-75                                           first-75                                          01175comment-75               \n00085last-85                                           first-85                                          04567comment-85               \n00999last-999                                          first-999                                         01610comment-99               \nSorting merged file on descending contract id....\n00005last-5                                            first-5                                           12323comment-5                \n00030last-30                                           first-30                                          08765comment-30               \n00025last-25                                           first-25                                          07725comment-25               \n00001last-1                                            first-1                                           05423comment-1                \n00050last-50                                           first-50                                          05050comment-50               \n00085last-85                                           first-85                                          04567comment-85               \n00003last-03                                           first-03                                          03331comment-03               \n00999last-999                                          first-999                                         01610comment-99               \n00075last-75                                           first-75                                          01175comment-75               \n00010last-10                                           first-10                                          00653comment-10               \n00024last-24                                           first-24                                          00247comment-24               \nDone.\n",
    "expected_output_files": [
        {
            "file_name": "test-file-1.txt",
            "content": "00001last-1                                            first-1                                           05423comment-1\n00005last-5                                            first-5                                           12323comment-5\n00010last-10                                           first-10                                          00653comment-10\n00050last-50                                           first-50                                          05050comment-50\n00025last-25                                           first-25                                          07725comment-25\n00075last-75                                           first-75                                          01175comment-75\n"
        },
        {
            "file_name": "test-file-2.txt",
            "content": "00999last-999                                          first-999                                         01610comment-99\n00003last-03                                           first-03                                          03331comment-03\n00030last-30                                           first-30                                          08765comment-30\n00085last-85                                           first-85                                          04567comment-85\n00024last-24                                           first-24                                          00247comment-24\n"
        }
    ],
    "expected_input_output_files": []
}