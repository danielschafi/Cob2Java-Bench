{
    "cobol_file": {
        "file_name": "successful_snippet_f2ebd094.cob",
        "content": "       IDENTIFICATION DIVISION.\n       PROGRAM-ID. AOC-2021-03-2.\n       AUTHOR. ANNA KOSIERADZKA.\n\n       ENVIRONMENT DIVISION.\n       INPUT-OUTPUT SECTION.\n       FILE-CONTROL.\n           SELECT INPUTFILE ASSIGN TO \"d03.input\"\n           ORGANIZATION IS LINE SEQUENTIAL.\n\n       DATA DIVISION.\n\n       FILE SECTION.\n         FD INPUTFILE.\n         01 INPUTRECORD PIC X(12).         \n\n       WORKING-STORAGE SECTION.\n         01 FILE-STATUS PIC 9 VALUE 0.\n         01 N PIC 9(2) VALUE 12.\n         01 M PIC 9(4) VALUE 1000.\n         01 WS-OXY-DEC PIC 9(8) VALUE 0.\n         01 WS-CO2-DEC PIC 9(8) VALUE 0.\n         01 WS-ARRAY PIC X(12) OCCURS 0 TO 1000 TIMES DEPENDING ON M.\n         01 WS-OXY-FLAG PIC 9 VALUE 1 \n           OCCURS 0 TO 1000 TIMES DEPENDING ON M.\n         01 WS-CO2-FLAG PIC 9 VALUE 1 \n           OCCURS 0 TO 1000 TIMES DEPENDING ON M.\n         01 WS-COUNTS-OXY PIC 9(3) VALUE 0 \n           OCCURS 0 TO 12 TIMES DEPENDING ON N.\n         01 WS-COUNTS-CO2 PIC 9(3) VALUE 0 \n           OCCURS 0 TO 12 TIMES DEPENDING ON N.\n         01 WS-INPUT PIC X(12).\n         01 WS-RESULT PIC 9(16).\n         01 I UNSIGNED-INT VALUE 1.  \n         01 J UNSIGNED-INT VALUE 1.\n         01 K UNSIGNED-INT VALUE 1.\n         01 WS-OXY-IDX PIC 9(4).\n         01 WS-CO2-IDX PIC 9(4).\n         01 WS-OXY-ROWS PIC 9(4).\n         01 WS-CO2-ROWS PIC 9(4).\n         01 WS-OXY-BAD-BIT PIC X.\n         01 WS-CO2-BAD-BIT PIC X.\n\n       PROCEDURE DIVISION.\n       001-MAIN.\n           OPEN INPUT INPUTFILE.\n           PERFORM 002-READ UNTIL FILE-STATUS = 1.\n           CLOSE INPUTFILE.\n           PERFORM 004-FILTER-NUMBERS.\n           PERFORM 006-COMPUTE-DECIMALS.\n           COMPUTE WS-RESULT = WS-OXY-DEC * WS-CO2-DEC.\n           DISPLAY WS-RESULT.\n           STOP RUN.\n\n       002-READ.\n            READ INPUTFILE\n                AT END MOVE 1 TO FILE-STATUS\n                NOT AT END PERFORM 003-PROCESS-RECORD\n            END-READ.\n\n       003-PROCESS-RECORD.\n           MOVE INPUTRECORD TO WS-ARRAY(J)\n           ADD 1 TO J\n           PERFORM VARYING I FROM 1 BY 1 UNTIL I > N               \n               IF INPUTRECORD(I:1) = '1' THEN\n                   ADD 1 TO WS-COUNTS-OXY(I)\n                   ADD 1 TO WS-COUNTS-CO2(I)\n               END-IF\n           END-PERFORM.\n\n       004-FILTER-NUMBERS.\n           MOVE M TO WS-OXY-ROWS.\n           MOVE M TO WS-CO2-ROWS.\n           PERFORM VARYING I FROM 1 BY 1 UNTIL I > N\n               PERFORM 005-FILTER-BY-BIT\n           END-PERFORM.\n\n       005-FILTER-BY-BIT.\n      * zeros dominate => we want 0 at bit i\n           IF WS-COUNTS-OXY(I) < WS-OXY-ROWS / 2 THEN\n               MOVE '1' TO  WS-OXY-BAD-BIT\n           ELSE\n               MOVE '0' TO  WS-OXY-BAD-BIT\n           END-IF.\n\n      * 1s dominate => we want 0 at bit i  \n           IF WS-COUNTS-CO2(I) >= WS-CO2-ROWS / 2 THEN\n              MOVE '1' TO WS-CO2-BAD-BIT\n           ELSE \n              MOVE '0' TO WS-CO2-BAD-BIT\n           END-IF.\n\n           PERFORM VARYING J FROM 1 BY 1 UNTIL J > M\n             IF WS-OXY-FLAG(J) = 1 AND WS-OXY-ROWS > 1 THEN\n               IF WS-ARRAY(J)(I:1) = WS-OXY-BAD-BIT THEN\n                 MOVE 0 TO WS-OXY-FLAG(J)\n                 SUBTRACT 1 FROM WS-OXY-ROWS\n                 PERFORM VARYING K FROM I BY 1 UNTIL K > N\n                   IF WS-ARRAY(J)(K:1) = '1' THEN\n                     SUBTRACT 1 FROM WS-COUNTS-OXY(K)\n                   END-IF\n                 END-PERFORM\n               END-IF\n             END-IF\n\n             IF WS-CO2-FLAG(J) = 1 AND WS-CO2-ROWS > 1 THEN\n              IF WS-ARRAY(J)(I:1) = WS-CO2-BAD-BIT THEN\n                MOVE 0 TO WS-CO2-FLAG(J)\n                SUBTRACT 1 FROM WS-CO2-ROWS\n                 PERFORM VARYING K FROM I BY 1 UNTIL K > N\n                   IF WS-ARRAY(J)(K:1) = '1' THEN\n                     SUBTRACT 1 FROM WS-COUNTS-CO2(K)\n                   END-IF\n                 END-PERFORM\n              END-IF\n             END-IF\n\n             IF WS-OXY-FLAG(J) = 1 AND WS-OXY-ROWS = 1 THEN\n               MOVE J TO WS-OXY-IDX\n             END-IF\n\n             IF WS-CO2-FLAG(J) = 1 AND WS-CO2-ROWS = 1 THEN\n               MOVE J TO WS-CO2-IDX\n             END-IF\n           END-PERFORM.\n\n       006-COMPUTE-DECIMALS.\n           PERFORM VARYING I FROM 1 BY 1 UNTIL I > N\n               COMPUTE WS-OXY-DEC = WS-OXY-DEC * 2\n               COMPUTE WS-CO2-DEC = WS-CO2-DEC * 2\n               IF WS-ARRAY(WS-OXY-IDX)(I:1) = '1' THEN \n                   COMPUTE WS-OXY-DEC = WS-OXY-DEC + 1\n               END-IF\n               IF WS-ARRAY(WS-CO2-IDX)(I:1) = '1' THEN\n                    COMPUTE WS-CO2-DEC = WS-CO2-DEC + 1\n               END-IF\n           END-PERFORM.\n"
    },
    "input_files": [
        {
            "file_name": "d03.input",
            "content": "111111111111\n101010101010\n110011001100\n000000000000\n111000111000\n010101010101\n111100001111\n001100110011\n100100100100\n111111000000"
        }
    ],
    "output_files": [],
    "input_output_files": [],
    "sysin_file": null,
    "code_file": "successful_snippet_f2ebd094.cob",
    "compiled_file": "successful_snippet_f2ebd094",
    "expected_output": "0000000000000000\n",
    "expected_output_files": [],
    "expected_input_output_files": []
}