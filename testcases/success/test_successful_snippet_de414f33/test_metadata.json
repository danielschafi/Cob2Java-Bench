{
    "cobol_file": {
        "file_name": "successful_snippet_de414f33.cob",
        "content": "      *************************************************************\n      * The purpose of this program is to produce a detail report *\n      * of sales and list the sales and the layaway.               * \n      * ***********************************************************\n\n       identification division.\n       program-id. R-Processing.\n\n       author. Everyone.\n       date-written. 2018-04-15.\n\n\n       environment division.\n       configuration section.\n       input-output section.\n\n       file-control.\n\n      * configure input file\n\n           select input-file\n               assign to \"returns.out\"\n               organization is line sequential.\n                    \n      * configure output file\n       \n           select output-file\n               assign to \"rprocessing.out\"\n               organization is line sequential.\n\n       data division.\n       file section.\n\n      *declare the input files and record definition\n\n       fd input-file\n           data record is input-line\n           record contains 36 characters.\n\n       01 input-line.\n           05 il-transaction-code                  pic x.\n           05 il-transaction-amount                pic 9(5)v99.\n           05 il-payment-type                      pic xx.\n           05 il-store-number                      pic 99.\n           05 il-invoice-number                    pic x(9).\n           05 il-sku-code                          pic x(15).\n\n      *declare the output files and record definition \n\n       fd output-file\n           data record is output-line\n               record contains 99 characters.\n\n      *declare grad file\n       01 output-line                              pic x(99).\n\n       working-storage section.\n\n       01 ws-flags.\n           05 ws-eof-flag                          pic x\n               value 'N'.\n\n      * create headings \n\n       01 ws-heading-line1.\n           05 filler                               pic x(30)\n               value spaces.\n           05 filler                               pic x(21)\n               value \"R PROCESSING REPORT\".\n           05 filler                               pic x(19)\n               value spaces.\n           \n\n       01 ws-heading-line2.\n           05 filler                               pic x\n               value spaces.\n           05 filler                               pic x(11)\n               value \"TRANSACTION\".\n           05 filler                               pic xx\n               value spaces.\n           05 filler                               pic x(11)\n               value \"TRANSACTION\".        \n           05 filler                               pic xx\n               value spaces.\n           05 filler                               pic x(7)\n               value \"PAYMENT\".\n           05 filler                               pic xx\n               value spaces.\n           05 filler                               pic x(5)\n               value \"STORE\".\n           05 filler                               pic xxx\n               value spaces.       \n           05 filler                               pic x(7)\n               value \"INVOICE\".\n           05 filler                               pic x(10)\n               value spaces.\n           05 filler                               pic x(3)\n               value \"SKU\".\n           05 filler                               pic x(15)\n               value spaces.   \n           05 filler                               pic x(3)\n               value \"TAX\".\n\n\n       01 ws-heading-line3.\n           05  filler                              pic x(4)\n               value spaces.\n           05  filler                              pic x(4)\n               value \"CODE\".\n           05  filler                              pic x(8)\n               value spaces.\n           05  filler                              pic x(6)\n               value \"AMOUNT\".\n           05  filler                              pic x(5)\n               value spaces.\n           05  filler                              pic x(4)\n               value \"TYPE\".\n           05  filler                              pic x(5)\n               value spaces.\n           05  filler                              pic x(6)\n               value \"NUMBER\".\n           05  filler                              pic xx\n               value spaces.\n           05  filler                              pic x(6)\n               value \"NUMBER\".\n           05  filler                              pic x(11)\n               value spaces.\n           05  filler                              pic x(4)\n               value \"CODE\".\n           05  filler                              pic x(13)\n               value spaces.\n           05  filler                              pic x(5)\n               value \"OWING\".\n\n\n       01 ws-underlines.\n           05  filler                              pic x\n               value spaces.\n           05  filler                              pic x(11)\n               value \"-----------\".\n           05  filler                              pic xx\n               value spaces.\n           05  filler                              pic x(11)\n               value \"-----------\".\n           05  filler                              pic xx\n               value spaces.\n           05  filler                              pic x(7)\n               value \"-------\".\n           05  filler                              pic xx\n               value spaces.\n           05  filler                              pic x(6)\n               value \"------\".\n           05  filler                              pic xx\n               value spaces.\n           05  filler                              pic x(7)\n               value \"-------\".\n           05  filler                              pic x(10)\n               value spaces.\n           05  filler                              pic x(4)\n               value \"----\".\n           05  filler                              pic x(13)\n               value spaces.\n           05  filler                              pic x(5)\n               value \"-----\".\n\n      *create details line to output records on report\n       01 ws-detail-line.\n           05 filler                               pic x(5)\n               value spaces.\n           05 ws-ol-transaction-code               pic x.\n           05 filler                               pic x(8)\n               value spaces.\n           05 ws-ol-transaction-amount             pic $$$$,$$9.99.\n           05 filler                               pic x(4)\n               value spaces.\n           05 ws-ol-payment-type                   pic xx.\n           05 fille                                pic x(7)\n               value spaces.\n           05 ws-ol-store-number                   pic z9.\n           05 filler                               pic x(4)\n               value spaces.\n           05 ws-ol-invoice-number                 pic x(9).\n           05 filler                               pic x(4)\n               value spaces.\n           05 ws-ol-sku-code                       pic x(15).\n           05 filler                               pic x\n               value spaces.\n           05 ws-ol-tax-owing                      pic $$$,$$9.99.\n\n\n      *calculate total number of R and total amount R records\n       01 ws-totals-for-r-records.\n           05 filler                               pic x\n               value spaces.\n           05 filler                               pic x(29)\n               value \"TOTAL NUMBER OF 'R' RECORDS: \".\n           05 filler                               pic x\n               value spaces.\n           05 ws-ol-tot-num-r-records              pic 99.\n           05 filler                               pic x(10)\n               value spaces.\n           05 filler                               pic x(29)\n               value \"TOTAL AMOUNT OF 'R' RECORDS: \".\n           05 ws-ol-tot-amount-r-records           pic $$$$,$$9.99.\n      *    05 ws-ol-ws-tot-amount-cash           pic zzzz,zz9.99.\n\n\n      \n\n      *calculate the total for tax owing\n       01 ws-total-tax-owing.\n           05 filler                               pic x\n               value spaces.\n           05 filler                               pic x(17)\n               value \"TOTAL TAX OWING: \".\n           05 filler                               pic x\n               value spaces.\n           05 ws-ol-tot-tax-owing                  pic $$$9.99.\n          \n      \n           \n       \n       \n\n      *set values\n       77 ws-returns                               pic x\n           value \"R\". \n       77 ws-payment-cash                          pic xx\n           value \"CA\".\n       77 ws-payment-credit                        pic xx\n           value \"CR\". \n       77 ws-payment-debit                         pic xx\n           value \"DB\".\n\n       77 ws-line-break                            pic x(99)\n           value spaces.\n       77 ws-page-num                              pic 9\n           value 0.\n       77 ws-line-count                            pic 99\n           value 0. \n       77 ws-lines-per-page                        pic 99\n           value 20.\n\n       77 ws-tax-owing                             pic 9(5)v99\n           value 0.\n       77 ws-tax-value                             pic 9v99\n           value 0.13.\n       77 ws-tot-num-r-records                     pic 99\n           value 0.\n       77 ws-tot-amt-r-records                     pic 9(6)v99\n           value 0.\n       \n       77 ws-tot-tax-owing                         pic 9(5)v99\n           value 0.\n\n\n       procedure division.\n       000-main.\n\n           open input  input-file.\n           open output output-file.\n\n      * read initial record from input-file\n           read input-file\n               at end move \"Y\"\n                   to ws-eof-flag.\n\n           perform 100-print-headings.\n\n           perform 200-process-page\n               until ws-eof-flag = \"Y\".\n\n           write output-line       from ws-totals-for-r-records\n           after advancing 2 lines.\n\n           write output-line       from ws-total-tax-owing\n           after advancing 2 line.\n\n           \n           \n      * close files\n           close   input-file.\n           close   output-file.\n           goback.\n       \n       100-print-headings.\n\n           write output-line                from ws-heading-line1.\n           write output-line                from ws-heading-line2\n               after advancing 1 lines.\n           write output-line                from ws-heading-line3.\n           write output-line                from ws-underlines.\n\n\n       \n       200-process-page.\n\n           move spaces                      to ws-detail-line.\n           move il-transaction-code         to ws-ol-transaction-code.\n           move il-transaction-amount       to ws-ol-transaction-amount.\n           move il-payment-type             to ws-ol-payment-type.\n           move il-store-number             to ws-ol-store-number.\n           move il-invoice-number           to ws-ol-invoice-number.\n           move il-sku-code                 to ws-ol-sku-code.\n           move ws-tot-num-r-records        to ws-ol-tot-num-r-records.\n           \n\n           \n\n      *calculate the totals for 'S' and 'L' records\n           if ws-line-count >= ws-lines-per-page  then\n\n               write output-line            from ws-heading-line1\n                   after advancing 3 lines\n               write output-line            from ws-heading-line2\n                   after advancing 2 lines\n               write output-line            from ws-heading-line3\n               write output-line            from ws-underlines\n               write output-line            from ws-line-break\n\n               move 0                       to ws-line-count\n               add 1                        to ws-page-num\n           end-if.\n\n\n           if il-transaction-code = ws-returns      then\n           compute ws-tot-amt-r-records        rounded = \n             ws-tot-amt-r-records + il-transaction-amount\n       \n           move ws-tot-amt-r-records\n             to ws-ol-tot-amount-r-records\n\n               \n               add 1                           to ws-line-count\n               add 1                           to ws-tot-num-r-records\n               perform 300-calculations\n               write output-line               from ws-detail-line\n           end-if.\n           read input-file \n               at end move \"Y\"\n                   to ws-eof-flag.\n\n\n       300-calculations.\n           \n      *calculate the tax owing amount \n           compute ws-tax-owing rounded = \n             il-transaction-amount * ws-tax-value\n           move ws-tax-owing                   to ws-ol-tax-owing.\n\n\n           perform 400-calc-percentage-of-each-payment-type.\n\n\n      *calculate the percentage of each payment type\n       400-calc-percentage-of-each-payment-type.\n          \n\n      *calculate the total for tax owing\n      \n           add ws-tax-owing to ws-tot-tax-owing.\n\n           move ws-tot-tax-owing      to ws-ol-tot-tax-owing.\n           \n\n      \n\n       end program R-Processing."
    },
    "input_files": [
        {
            "file_name": "returns.out",
            "content": "R0125000CA01INV123456SKU-ELEC-12345\nR0089500DB02INV234567SKU-HOME-23456\nR0234750CR03INV345678SKU-CLTH-34567\nR0156200CA01INV456789SKU-TOYS-45678\nR0067800DB02INV567890SKU-FOOD-56789\nR0198300CR03INV678901SKU-SPRT-67890\nR0045600CA01INV789012SKU-BOOK-78901\nR0312400DB02INV890123SKU-ELEC-89012\nR0089900CR03INV901234SKU-GARD-90123\nR0176500CA01INV012345SKU-AUTO-01234"
        }
    ],
    "output_files": [
        "rprocessing.out"
    ],
    "input_output_files": [],
    "sysin_file": null,
    "code_file": "successful_snippet_de414f33.cob",
    "compiled_file": "successful_snippet_de414f33",
    "expected_output": "",
    "expected_output_files": [
        {
            "file_name": "rprocessing.out",
            "content": "                              R PROCESSING REPORT\n\n TRANSACTION  TRANSACTION  PAYMENT  STORE   INVOICE          SKU               TAX    CODE        AMOUNT     TYPE     NUMBER  NUMBER           CODE             OWING\n -----------  -----------  -------  ------  -------          ----             -----\n     R          $1,250.00    CA        1    INV123456    SKU-ELEC-12345     $162.50\n     R            $895.00    DB        2    INV234567    SKU-HOME-23456     $116.35\n     R          $2,347.50    CR        3    INV345678    SKU-CLTH-34567     $305.18\n     R          $1,562.00    CA        1    INV456789    SKU-TOYS-45678     $203.06\n     R            $678.00    DB        2    INV567890    SKU-FOOD-56789      $88.14\n     R          $1,983.00    CR        3    INV678901    SKU-SPRT-67890     $257.79\n     R            $456.00    CA        1    INV789012    SKU-BOOK-78901      $59.28\n     R          $3,124.00    DB        2    INV890123    SKU-ELEC-89012     $406.12\n     R            $899.00    CR        3    INV901234    SKU-GARD-90123     $116.87\n     R          $1,765.00    CA        1    INV012345    SKU-AUTO-01234     $229.45\n\n\n TOTAL NUMBER OF 'R' RECORDS:  09          TOTAL AMOUNT OF 'R' RECORDS:  $14,959.50\n\n TOTAL TAX OWING:  $944.74\n"
        }
    ],
    "expected_input_output_files": []
}