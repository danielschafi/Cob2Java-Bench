{
  "cobol_file": {
    "file_name": "successful_snippet_eac62f88.cob",
    "content": "       IDENTIFICATION DIVISION.\n       PROGRAM-ID. CSV.\n       AUTHOR.  Bill Gunshannon.\n       INSTALLATION.  Home.\n       DATE-WRITTEN.  19 December 2021.\n      ************************************************************\n      ** Program Abstract:\n      **   CSVs are something COBOL does pretty well.\n      **     The commented out CONCATENATE statements are a\n      **     second method other than the STRING method.\n      ************************************************************\n       \n       ENVIRONMENT DIVISION.\n       CONFIGURATION SECTION.\n           REPOSITORY.\n           FUNCTION ALL INTRINSIC.\n\n       INPUT-OUTPUT SECTION.\n       FILE-CONTROL.\n            SELECT CSV-File ASSIGN TO \"csv.txt\"\n                 ORGANIZATION IS LINE SEQUENTIAL.\n            SELECT Out-File ASSIGN TO \"new.csv.txt\"\n                 ORGANIZATION IS LINE SEQUENTIAL.\n       \n       \n       DATA DIVISION.\n       \n       FILE SECTION.\n       \n       FD  CSV-File \n           DATA RECORD IS CSV-Record.\n       01  CSV-Record.\n           05 Field1                  PIC X(64).\n       \n       FD  Out-File\n           DATA RECORD IS Out-Line.\n       01  Out-Line   PIC X(80).\n       \n       WORKING-STORAGE SECTION.\n       \n       01 Eof                   PIC X     VALUE 'F'.\n       \n       01  CSV-Data.\n           05  CSV-Col1             PIC 9(5).\n           05  CSV-Col2             PIC 9(5).\n           05  CSV-Col3             PIC 9(5).\n           05  CSV-Col4             PIC 9(5).\n           05  CSV-Col5             PIC 9(5).\n\n        01  CSV-Sum                  PIC ZZZ9.\n        01  CSV-Sum-Alpha           \n                REDEFINES     CSV-Sum  PIC X(4).\n       \n       PROCEDURE DIVISION.\n       \n       Main-Program.\n           OPEN INPUT  CSV-File\n           OPEN OUTPUT Out-File\n           PERFORM Read-a-Record\n           PERFORM Build-Header\n           PERFORM UNTIL Eof = 'T'\n              PERFORM Read-a-Record\n              IF Eof NOT EQUAL 'T' PERFORM Process-a-Record\n           END-PERFORM\n           CLOSE CSV-File\n           CLOSE Out-File\n           STOP RUN.\n       \n       Read-a-Record.\n           READ CSV-File \n              AT END MOVE 'T' TO Eof\n           END-READ.\n\n        Build-Header.\n      **    MOVE CONCATENATE(TRIM(CSV-Record), \",SUM\"\n      **        TO Out-Line.\n            STRING TRIM(CSV-Record), \",SUM\" INTO Out-Line.\n            WRITE Out-Line.\n            MOVE SPACES TO Out-Line.\n\n        Process-a-Record.\n            UNSTRING CSV-Record DELIMITED BY ',' INTO\n                  CSV-Col1 CSV-Col2 CSV-Col3 CSV-Col4 CSV-Col5.\n            COMPUTE CSV-Sum = \n                  CSV-Col1 + CSV-Col2 + CSV-Col3 + CSV-Col4 + CSV-Col5.\n      **    MOVE CONCATENATE(TRIM(CSV-Record), \",\" TRIM(CSV-Sum-Alpha))\n      **        TO Out-Line.\n            STRING TRIM(CSV-Record), \",\" TRIM(CSV-Sum-Alpha)\n                   INTO Out-Line.\n            WRITE Out-Line.\n            MOVE SPACES TO Out-Line.\n       \n       END-PROGRAM.\n"
  },
  "input_files": [
    {
      "file_name": "csv.txt",
      "content": "Col1,Col2,Col3,Col4,Col5\n00125,00340,00089,00256,00178\n00450,00123,00567,00234,00891\n00078,00456,00234,00678,00123\n00890,00234,00567,00123,00456\n00234,00567,00890,00345,00678\n00567,00890,00123,00456,00234\n00345,00678,00901,00234,00567\n00123,00456,00789,00012,00345\n00678,00901,00234,00567,00890\n00901,00234,00567,00890,00123"
    }
  ],
  "output_files": [
    "new.csv.txt"
  ],
  "input_output_files": [],
  "sysin_file": null
}